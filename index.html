<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <title>지니짱 감사일기</title>
  <link rel="stylesheet" href="styles.css"/>
  <!-- Firebase SDK (fill your config in app.js) -->
  <script defer src="https://www.gstatic.com/firebasejs/9.22.2/firebase-app-compat.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/9.22.2/firebase-auth-compat.js"></script>
  <script defer src="https://www.gstatic.com/firebasejs/9.22.2/firebase-firestore-compat.js"></script>
  <script defer src="app.js"></script>
</head>
<body>
  <header class="container">
    <div class="header-row">
      <img src="icons/star.svg" alt="" class="star"/>
      <h1 class="header-title">지니짱 감사일기</h1>
      <button id="btn-logout" class="btn ghost right" data-action="logout">로그아웃</button>
      <button id="btn-login"  class="btn primary right" data-action="open-login">로그인</button>
    </div>

    <nav class="nav">
      <a href="#/daily"   class="tab active" data-tab="daily"><img class="ico" src="icons/daily.svg" alt="">데일리</a>
      <a href="#/weekly"  class="tab" data-tab="weekly"><img class="ico" src="icons/weekly.svg" alt="">위클리</a>
      <a href="#/search"  class="tab" data-tab="search"><img class="ico" src="icons/search.svg" alt="">검색</a>
      <a href="#/settings"class="tab" data-tab="settings"><img class="ico" src="icons/settings.svg" alt="">설정</a>
    </nav>
  </header>

  <main class="view-wrap container">
    <!-- DAILY -->
    <section id="view-daily" class="view" aria-label="데일리">
      <form class="section form-daily">
        <input type="hidden" name="dateKey" id="dateKey"/>
        <div class="section">
          <div class="badge"><span class="dot"></span> 오늘의 질문</div>
          <p class="hint">나를 되돌아보는 한 줄 질문이에요.</p>
          <input type="text" id="q-today" placeholder="질문" readonly/>
          <textarea placeholder="질문에 대한 나의 답을 적어보세요." name="answer" rows="4"></textarea>
          <div class="btn-row">
            <button type="button" class="btn ghost" id="btn-random">다른 질문</button>
            <button type="button" class="btn primary" data-action="save">저장</button>
            <button type="button" class="btn danger"  data-action="delete">지우기</button>
          </div>
        </div>

        <div class="section">
          <h3>감정일기</h3>
          <p class="hint">사건을 사실대로 적고, 그때의 생각과 감정을 구분해 본 뒤 결과를 간단히 남겨보세요.</p>
          <label>사건</label>
          <textarea name="emo_event" rows="3" placeholder="오늘 무슨 일이 있었나요?"></textarea>
          <label>생각</label>
          <textarea name="emo_thought" rows="3" placeholder="그때 어떤 생각이 들었나요?"></textarea>
          <label>감정</label>
          <textarea name="emo_feel" rows="3" placeholder="감정을 구체적으로 적어보세요."></textarea>
          <label>결과</label>
          <textarea name="emo_result" rows="3" placeholder="그래서 어떤 선택/결과가 있었나요?"></textarea>
        </div>

        <div class="section">
          <h3>감사일기 (3)</h3>
          <template id="thanks-proto" data-proto>
            <div class="thanks-item"><input type="text" placeholder="감사 한 가지"/></div>
          </template>
          <div class="thanks-list">
            <div class="thanks-item"><input type="text" placeholder="감사 한 가지"/></div>
            <div class="thanks-item"><input type="text" placeholder="감사 한 가지"/></div>
            <div class="thanks-item"><input type="text" placeholder="감사 한 가지"/></div>
          </div>
          <div class="btn-row">
            <button type="button" class="btn ghost" data-action="add">+ 추가</button>
          </div>
        </div>

        <div class="section">
          <h3>일상일기</h3>
          <textarea name="diary" rows="5" placeholder="오늘의 일상을 자유롭게 남겨보세요."></textarea>
        </div>

        <div class="section">
          <h3>태그</h3>
          <input type="text" name="tags" placeholder="#가족, #산책 처럼 쉼표로 구분"/>
        </div>

        <div class="btn-row">
          <button type="button" class="btn primary" data-action="save">저장</button>
        </div>
      </form>
    </section>

    <!-- WEEKLY -->
    <section id="view-weekly" class="view" hidden aria-label="위클리">
      <form class="section form-weekly">
        <input type="hidden" name="weekKey" id="weekKey"/>
        <div class="section">
          <h3>미션 (체크박스)</h3>
          <div class="mission-item"><label><input type="checkbox" data-text="물 2리터 마시기"> 물 2리터 마시기</label></div>
          <div class="mission-item"><label><input type="checkbox" data-text="30분 산책"> 30분 산책</label></div>
          <div class="mission-item"><label><input type="checkbox" data-text="자기전 휴대폰 내려놓기"> 자기전 휴대폰 내려놓기</label></div>
        </div>
        <div class="section">
          <h3>힐링 문구 필사</h3>
          <textarea name="copyText" rows="4" placeholder="마음이 편해지는 문구를 한 줄 필사해요."></textarea>
        </div>
        <div class="btn-row">
          <button type="button" class="btn primary" data-action="save">저장</button>
        </div>
      </form>
    </section>

    <!-- SEARCH -->
    <section id="view-search" class="view" hidden aria-label="검색">
      <div class="section">
        <h3>전체 내용 검색</h3>
        <input type="text" id="search-input" placeholder="검색어를 입력하세요"/>
        <div class="btn-row">
          <button class="btn primary" id="btn-search" type="button">검색</button>
        </div>
      </div>
      <div class="section">
        <h3>결과</h3>
        <div id="search-results" class="results"></div>
      </div>
    </section>

    <!-- SETTINGS -->
    <section id="view-settings" class="view" hidden aria-label="설정">
      <div class="section">
        <h3>로그인</h3>
        <p class="hint">동일 계정으로 여러 기기에서 자동 동기화됩니다.</p>
        <div class="btn-row">
          <button class="btn primary" data-action="open-login" type="button">로그인</button>
          <button class="btn ghost"   data-action="logout"     type="button">로그아웃</button>
        </div>
      </div>
      <div class="section">
        <h3>백업/복원</h3>
        <div class="btn-row">
          <button class="btn" id="btn-export" type="button">JSON 내보내기</button>
          <label class="btn">
            JSON 불러오기
            <input id="file-import" type="file" accept="application/json" hidden>
          </label>
          <button class="btn" id="btn-share" type="button">카톡 공유</button>
        </div>
      </div>
    </section>
  </main>

  <footer class="container footer">v2.7.2-integrated-ui232r4</footer>

  <!-- Login Modal -->
  <section id="login-modal" hidden>
    <div class="panel">
      <div class="header-row" style="margin-bottom:10px;">
        <strong>로그인</strong>
        <button id="login-close" class="btn ghost right">닫기</button>
      </div>
      <form id="login-form">
        <input name="email" type="email" placeholder="이메일" required class="full"/>
        <input name="password" type="password" placeholder="비밀번호" required class="full" style="margin-top:8px"/>
        <div class="btn-row" style="margin-top:12px;">
          <button class="btn primary" type="submit">로그인</button>
        </div>
      </form>
      <p class="hint" style="margin-top:8px;">* 아직 회원가입 UI는 없음 — Firebase Auth 콘솔로 계정 추가 후 로그인하세요.</p>
    </div>
  </section>
</body>
</html>
