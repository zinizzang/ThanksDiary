<!DOCTYPE html>
<html lang="ko">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
<title>지니짱 감사일기</title>
<link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
<link href="https://fonts.googleapis.com/css2?family=Gowun+Dodum&display=swap" rel="stylesheet">
<link rel="stylesheet" href="styles.css" />
</head>
<body>
<header class="topbar">
  <div class="brand">
    <span class="star">★</span>
    <h1>지니짱 감사일기</h1>
  </div>
  <div class="auth">
    <button id="btnLogin" class="pill">로그인</button>
    <button id="btnLogout" class="pill secondary">로그아웃</button>
  </div>
</header>

<nav class="nav-buttons">
  <button class="menu active" data-page="daily"><span class="icon">📁</span> 데일리</button>
  <button class="menu" data-page="weekly"><span class="icon">🧾</span> 위클리</button>
  <button class="menu" data-page="search"><span class="icon">🔍</span> 검색</button>
  <button class="menu" data-page="settings"><span class="icon">🌞</span> 설정</button>
</nav>

<main class="main">

  <!-- Daily Page -->
  <section id="page-daily" class="page visible">
    <div class="row date-row">
      <input type="date" id="dailyDate" class="date-input">
      <button id="btnToday" class="pill small">오늘</button>
      <span id="dailyWeek" class="week-badge"></span>
    </div>

    <div class="section-card">
      <div class="section-title"><span class="dot"></span> 오늘의 질문</div>
      <p class="hint">나를 되돌아보는 한 줄 질문이에요.</p>
      <input id="dailyQuestion" class="text-input" placeholder="질문이 들어옵니다..." />
      <textarea id="dailyAnswer" class="multiline" placeholder="질문에 대한 나의 답을 적어보세요."></textarea>
      <div class="btns">
        <button id="btnNewQ" class="pill ghost">다른 질문</button>
        <button id="btnSaveDailyQ" class="pill accent">저장</button>
        <button id="btnClearDailyQ" class="pill danger">지우기</button>
      </div>
    </div>

    <div class="section-card">
      <div class="section-title"><span class="dot"></span> 감정일기 (사건·생각·감정·결과)</div>
      <textarea id="evEvent" class="multiline" placeholder="사건"></textarea>
      <textarea id="evThought" class="multiline" placeholder="생각"></textarea>
      <textarea id="evFeeling" class="multiline" placeholder="감정"></textarea>
      <textarea id="evResult" class="multiline" placeholder="결과"></textarea>
    </div>

    <div class="section-card">
      <div class="section-title"><span class="dot"></span> 감사일기</div>
      <input id="th1" class="text-input" placeholder="감사 1" />
      <input id="th2" class="text-input" placeholder="감사 2" />
      <input id="th3" class="text-input" placeholder="감사 3" />
    </div>

    <div class="section-card">
      <div class="section-title"><span class="dot"></span> 일상일기</div>
      <textarea id="dailyNote" class="multiline" placeholder="오늘의 하루"></textarea>
    </div>

    <div class="section-card">
      <div class="section-title"><span class="dot"></span> 태그</div>
      <input id="tags" class="text-input" placeholder="#가족, #산책 처럼 쉼표로 구분" />
    </div>

    <div class="btns stick">
      <button id="btnSaveDailyAll" class="pill accent big">데일리 전체 저장</button>
    </div>
  </section>

  <!-- Weekly Page -->
  <section id="page-weekly" class="page">
    <div class="row date-row">
      <input type="week" id="weekPicker" class="date-input">
      <span id="weeklyWeek" class="week-badge"></span>
    </div>

    <div class="section-card">
      <div class="section-title"><span class="dot"></span> 미션 (체크박스)</div>
      <div id="missions"></div>
      <div class="row">
        <input id="missionText" class="text-input" placeholder="미션 추가">
        <button id="btnAddMission" class="pill small">+ 추가</button>
      </div>
    </div>

    <div class="section-card">
      <div class="section-title"><span class="dot"></span> 힐링 문구</div>
      <input id="healing" class="text-input" placeholder="한 줄 힐링 문구">
      <textarea id="copy" class="multiline" placeholder="필사해보기"></textarea>
      <div class="btns">
        <button id="btnRandomHealing" class="pill ghost">랜덤</button>
      </div>
    </div>

    <div class="btns stick">
      <button id="btnSaveWeekly" class="pill accent big">위클리 저장</button>
    </div>
  </section>

  <!-- Search Page -->
  <section id="page-search" class="page">
    <div class="section-card">
      <div class="section-title"><span class="dot"></span> 전체 내용 검색</div>
      <input id="searchInput" class="text-input" placeholder="키워드 입력">
      <button id="btnSearch" class="pill small">검색</button>
      <div id="searchResults" class="search-results"></div>
    </div>
  </section>

  <!-- Settings Page -->
  <section id="page-settings" class="page">
    <div class="section-card">
      <div class="section-title"><span class="dot"></span> 로그인</div>
      <div class="row">
        <input id="email" class="text-input" placeholder="이메일">
        <input id="password" class="text-input" type="password" placeholder="비밀번호">
      </div>
      <div class="btns">
        <button id="doLogin" class="pill accent">로그인</button>
        <button id="doSignup" class="pill">회원가입</button>
        <button id="doLogout" class="pill secondary">로그아웃</button>
      </div>
      <p class="muted">※ Firebase 설정 시 클라우드 동기화됩니다. (미설정 시 로컬 저장)</p>
    </div>

    <div class="section-card">
      <div class="section-title"><span class="dot"></span> 백업/복원</div>
      <div class="btns">
        <button id="btnExport" class="pill">JSON 파일로 저장</button>
        <input type="file" id="importFile" accept="application/json">
        <button id="btnImport" class="pill">JSON 가져오기</button>
      </div>
      <div class="btns">
        <button id="btnClear" class="pill danger">로컬 데이터 초기화</button>
        <button id="btnRefresh" class="pill ghost">캐시 새로고침(업데이트)</button>
      </div>
    </div>
  </section>

</main>

<footer class="foot">v2.7.2 • Gowun Dodum</footer>

<!-- Toast -->
<div id="toast" class="toast" role="status" aria-live="polite"></div>

<!-- Firebase -->
<script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-app-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-auth-compat.js"></script>
<script src="https://www.gstatic.com/firebasejs/10.12.4/firebase-firestore-compat.js"></script>

<script src="app.js"></script>
</body>
</html>
