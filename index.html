<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#fff6c9" />
  <link rel="icon" href="icons/icon-192.png" />
  <link rel="manifest" href="manifest.json" />
  <title>지니짱 감사일기</title>

  <!-- 귀여운 감성 폰트 (변경 없음) -->
  <link rel="preconnect" href="https://fonts.googleapis.com"/>
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin/>
  <link href="https://fonts.googleapis.com/css2?family=Jua&family=Gowun+Dodum&display=swap" rel="stylesheet"/>

  <!-- 캐시충돌 방지용 버전쿼리 -->
  <link rel="stylesheet" href="styles.css?v=2.8.0" />
</head>
<body>
  <header class="app-header">
    <h1 class="logo"><span class="star">★</span> 지니짱 감사일기</h1>
    <div class="auth-chip">
      <span id="authState">로그아웃 상태</span>
      <button id="btnOpenLogin" class="btn ghost">로그인</button>
    </div>
    <nav class="tabs">
      <button data-route="daily"   class="tab-btn">데일리</button>
      <button data-route="weekly"  class="tab-btn">위클리</button>
      <button data-route="search"  class="tab-btn">검색</button>
      <button data-route="settings" class="tab-btn">설정/백업</button>
    </nav>
  </header>

  <main id="view" aria-live="polite"></main>

  <footer class="app-footer">
    <small>오프라인 + 로그인 연동 · v2.8.0 (no-SW)</small>
  </footer>

  <!-- 로그인 모달 -->
  <dialog id="loginModal" class="modal">
    <form method="dialog" class="card">
      <h3>로그인</h3>
      <label>이메일
        <input id="loginEmail" type="email" autocomplete="username" placeholder="you@example.com" required />
      </label>
      <label>비밀번호
        <input id="loginPass" type="password" autocomplete="current-password" required />
      </label>
      <div class="modal-actions">
        <button id="btnDoLogin" class="btn primary" value="login">로그인</button>
        <button id="btnDoSignup" class="btn" value="signup">회원가입</button>
        <button id="btnCloseLogin" class="btn ghost">닫기</button>
      </div>
      <p id="loginMsg" class="hint"></p>
    </form>
  </dialog>

  <!-- Firebase (모듈버전) -->
  <script type="module" src="app.js?v=2.8.0"></script>
</body>
</html>
